{% load static %}
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Panel użytkownika</title>
    <link rel="stylesheet" href="{% static 'bookmaker_app/css/style2.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<!-- Nawigacja -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand fw-bold text-danger" href="#">🏆 Bookmaker</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav gap-3">
                <li class="nav-item">
                    <a class="nav-link text-light" href="{% url 'home' %}">Strona główna</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-light" href="{% url 'home' %}">Zakłady</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-danger fw-bold" href="{% url 'logout' %}">Wyloguj się</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Panel główny (z odpowiednim marginesem na górze) -->
<div class="container mt-5 pt-5">
    <div class="custom-card p-4">
        <h1 class="mb-4 text-center">Witaj, {{ user.username }}!</h1>
        <h2 class="mb-3 text-center">💰 Saldo: {{ saldo }} zł</h2>

        <div class="d-flex flex-column align-items-center mb-4 gap-3">
            <!-- Przycisk "Wpłać" z czerwonym tłem -->
            <a href="{% url 'wplata' %}" class="btn btn-danger w-100">💸 Wpłata</a>
            <!-- Przycisk "Wypłać" z czerwonym tłem -->
            <a href="{% url 'wyplata' %}" class="btn btn-danger w-100">🏧 Wypłata</a>
        </div>

        <h3>🎯 Twoje zakłady:</h3>
        <ul class="list-group mb-4">
            {% for zaklad in zaklady %}
                <li class="list-group-item bg-transparent text-light border-light" style="background-color: rgba(0,0,0,0.4);">
                    <strong>{{ zaklad.event.nazwa }}</strong><br>
                    Stawka: {{ zaklad.stawka }} zł<br>
                    Status: {{ zaklad.status }}
                </li>
            {% empty %}
                <li class="list-group-item bg-transparent text-light border-light">Nie masz żadnych zakładów.</li>
            {% endfor %}
        </ul>

        <h3>📜 Twoje transakcje:</h3>
        <ul class="list-group">
            {% for transakcja in transakcje %}
            <li class="list-group-item bg-transparent text-light border-light" style="background-color: rgba(0,0,0,0.4);">
                {{ transakcja.typ }} – Kwota: {{ transakcja.wartosc }} zł – Data: {{ transakcja.stworzono|date:"Y-m-d H:i" }}
            </li>
            {% empty %}
                <li class="list-group-item bg-transparent text-light border-light">Brak transakcji.</li>
            {% endfor %}
        </ul>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>