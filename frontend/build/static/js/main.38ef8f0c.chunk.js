(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(3),r=a.n(c),s=(a(14),a(4)),l=a.n(s);const i=[0,2,5,10,20];function m(e){let t=null;if(document.cookie&&""!==document.cookie){const a=document.cookie.split(";");for(let n=0;n<a.length;n++){const o=a[n].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}}return t}var d=function(){const[e,t]=Object(n.useState)(!1),[a,c]=Object(n.useState)(null),[r,s]=Object(n.useState)(0),[d,u]=Object(n.useState)([]),[p,f]=Object(n.useState)(!0),[y,g]=Object(n.useState)(!0);return o.a.createElement("div",{className:"container text-center spin-page-container"},o.a.createElement("h2",null,"CODZIENNY BONUS"),o.a.createElement("div",{className:"roulette-container"},o.a.createElement("div",{className:"roulette",style:{transform:"translateX(".concat(r,"px)")}},Array.from({length:7}).map((e,t)=>i.map((e,a)=>{const n=47*(t*i.length+a)%360;return o.a.createElement("div",{className:"prize-item",key:"".concat(t,"-").concat(a),style:{backgroundColor:"hsl(".concat(n,", 85%, 70%)"),font:"solid black"}},e," z\u0142")}))),o.a.createElement("div",{className:"indicator"},"\u25bc")),y?"already"===a?o.a.createElement("div",{className:"alert alert-warning mt-4"},"Ju\u017c dzi\u015b kr\u0119ci\u0142e\u015b! Wr\xf3\u0107 jutro po wi\u0119cej szcz\u0119\u015bcia."):o.a.createElement("button",{className:"btn btn-primary mt-4",onClick:async()=>{if(!e){t(!0);try{const e=await fetch("/api/spin/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":m("csrftoken")}});if(401===e.status||403===e.status)return g(!1),c(null),void t(!1);if(200===e.status){const a=await e.json(),n=parseFloat(a.result);if("already"===a.message)return g(!0),c("already"),void t(!1);if("already"!==a.message){g(!0);const e=i.indexOf(n),a=120,o=4,r=(i.length*o+e)*a;s(0),setTimeout(()=>{s(-r)},50),setTimeout(()=>{c(n),t(!1);const e=Array.from({length:15},(e,t)=>({id:t,top:100*Math.random()+"%",left:100*Math.random()+"%",delay:2*Math.random()}));u(e),f(!0),setTimeout(()=>{f(!1),setTimeout(()=>u([]),700)},3500)},5e3)}}}catch(a){console.error("B\u0142\u0105d podczas spinowania:",a),t(!1)}}},disabled:e},"SPIN"):o.a.createElement("div",{className:"alert alert-danger mt-4"},"Musisz by\u0107 zalogowany, aby skorzysta\u0107 z tej wspania\u0142ej funkcjonalno\u015bci."),!e&&null!==a&&"already"!==a&&(0===a?o.a.createElement("div",{className:"alert alert-warning mt-3"},"Nic nie wygra\u0142e\u015b..."):o.a.createElement("div",{className:"alert alert-success mt-3"},"Gratulacje! Wylosowa\u0142e\u015b ",a," z\u0142!!!")),d.map(e=>o.a.createElement("img",{key:e.id,src:l.a,alt:"karol",className:"karol-float-global ".concat(p?"show":"hide"),style:{top:e.top,left:e.left,animationDelay:"".concat(e.delay,"s")}})))};r.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d,null)))},4:function(e,t,a){e.exports=a.p+"static/media/karol.ef1dc56d.jpeg"},5:function(e,t,a){e.exports=a(15)}},[[5,1,2]]]);
//# sourceMappingURL=main.38ef8f0c.chunk.js.map